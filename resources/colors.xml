<scxml initial="red">
	<script>
		import math
		apa = 2
		def square(x):
			return x + math.sin(90)
	</script>
	<final id="f1" />
	<transition event="quit" target="f1">
		<log expr="_event.data['apa']" />
	</transition>
	<state id="red">
		<onentry>
			<log label="sq" expr="square(1)" />
<!--			<send event="quit" delay="3" />-->
			<raise event="quit">
				<param name="apa" expr="3" /> 
			</raise>
		</onentry>
		<onexit>
			<cancel sendid="quit" />
		</onexit>
		<transition target="green" />
	</state>

	<state id="green">
		<transition event="e2" target="blue" />
	</state>

	<state id="blue" initial="subblue1">

		<state id="subblue1">
			<transition target="f1" />
		</state>

	</state>
</scxml>