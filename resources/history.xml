<scxml initial="main">

	<state id="main" initial="process">
		<transition event="terminate" target="terminated" />
		<state id="process" initial="s1">
			<history id="h" type="shallow">
				<transition target="process" />
			</history>
			<state id="s1">
				<onentry>
					<log expr="on enter s1" />
				</onentry>
				<transition event="e1" target="s2" />
			</state>
			<state id="s2">
				<transition event="e2" target="s1" />
			</state>
			<transition event="pause" target="interrupted" />
		</state>
	
		<state id="interrupted">
			<transition event="resume" target="h" />
		</state>

		<final id="terminated" />
	</state>

</scxml>

